# Wowasi_ya Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED: Anthropic API
# =============================================================================
ANTHROPIC_API_KEY=your-api-key-here

# =============================================================================
# Application Settings
# =============================================================================
# Environment: development, staging, production
ENVIRONMENT=development

# Server settings
HOST=0.0.0.0
PORT=8000

# =============================================================================
# Security
# =============================================================================
# Secret key for JWT tokens (generate with: openssl rand -hex 32)
SECRET_KEY=change-this-to-a-random-secret-key

# Default admin credentials (change in production!)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme

# =============================================================================
# Output Configuration
# =============================================================================
# Default output directory for generated documents
OUTPUT_DIR=./output

# Obsidian vault path (optional)
OBSIDIAN_VAULT_PATH=

# Git repository path for output (optional)
GIT_OUTPUT_PATH=

# Google Drive sync (via rclone)
# Set to your rclone remote name and path (e.g., "gdrive:Wowasi")
# Requires rclone to be installed and configured with a remote named "gdrive"
GDRIVE_REMOTE_PATH=gdrive:Wowasi

# Enable automatic sync to Google Drive after generation
# Set to false to disable automatic syncing
ENABLE_GDRIVE_SYNC=true

# =============================================================================
# Database
# =============================================================================
# SQLite database for audit logs
DATABASE_URL=sqlite+aiosqlite:///./wowasi_ya.db

# =============================================================================
# Privacy Settings
# =============================================================================
# Enable strict privacy mode (requires user approval for all API calls)
STRICT_PRIVACY_MODE=true

# PII/PHI detection confidence threshold (0.0 - 1.0)
PRIVACY_CONFIDENCE_THRESHOLD=0.7

# =============================================================================
# Claude API Settings
# =============================================================================
# Model to use for research and generation
CLAUDE_MODEL=claude-sonnet-4-20250514

# Max tokens for document generation
MAX_GENERATION_TOKENS=4096

# Enable web search for research phase
ENABLE_WEB_SEARCH=true

# Max concurrent research agents (lower = avoid rate limits)
# 1 = Sequential (safest), 3 = Parallel (faster but may hit limits)
MAX_CONCURRENT_RESEARCH_AGENTS=1

# =============================================================================
# LLM Provider Configuration
# =============================================================================
# Generation provider: "llamacpp" (local via Cloudflare) or "claude" (API)
GENERATION_PROVIDER=llamacpp

# Research provider: "claude" (fixed for now - requires web search)
RESEARCH_PROVIDER=claude

# =============================================================================
# Llama CPP Settings (M4 Mac via Cloudflare Tunnel)
# =============================================================================
# Cloudflare tunnel URL for Mac's Llama CPP server
LLAMACPP_BASE_URL=https://llama.iyeska.net

# Model name (for logging/audit purposes)
LLAMACPP_MODEL=Llama-3.3-70B-Instruct-Q4_K_M

# Request timeout in seconds (generation can be slow)
LLAMACPP_TIMEOUT=300

# Fallback to Claude API if Mac is offline/unreachable
LLAMACPP_FALLBACK_TO_CLAUDE=true
